(()=>{"use strict";class e{static submit=(t,s)=>{t.preventDefault();let i=!0;s.fields.forEach((e=>{this.validate(e)||(i=!1)})),s.message.style="opacity: 0",i&&(s.button.element.textContent="идет отправка...",s.button.element.disabled=!0,s.button.element.classList.add("disabled"),setTimeout((()=>{s.button.element.textContent=s.button.text,s.button.element.disabled=!1,s.button.element.classList.remove("disabled"),e.clear(s.fields),s.message.style="opacity: 1"}),2e3))};static validate=e=>0===e.value.trim().length?(e.classList.add("wrong-field"),e.nextElementSibling.style="opacity: 1",!1):(e.classList.remove("wrong-field"),e.nextElementSibling.style="opacity: 0",!0);static clear=e=>{e.forEach((e=>{e.value="",e.nextElementSibling.style="opacity: 0",e.classList.remove("wrong-field")}))}}const t=e;window.addEventListener("DOMContentLoaded",(()=>{(new class{modal=document.querySelector(".overlay");openBtn=document.querySelector(".consultation__btn");closeBtn=document.querySelector(".modal-request__close-btn");initialize=()=>{this.openBtn&&this.openBtn.addEventListener("click",this.open),this.closeBtn&&this.closeBtn.addEventListener("click",this.close)};close=()=>{const e=document.querySelector("#username-field"),s=document.querySelector("#email-field"),i=document.querySelector("#textarea-field");t.clear([e,s,i]),this.modal.style="display: none",document.body.classList.remove("open-sidebar-js")};open=()=>{this.modal.style="display: block",document.body.classList.add("open-sidebar-js")}}).initialize(),(new class{form=document.querySelector(".modal-request__form");username=document.querySelector("#username-field");email=document.querySelector("#email-field");textarea=document.querySelector("#textarea-field");button=document.querySelector(".modal-request__btn");message=document.querySelector(".modal-request__message");initialize=()=>{this.form&&this.form.addEventListener("submit",(e=>{t.submit(e,{message:this.message,button:{element:this.button,text:"Отправить"},fields:[this.username,this.email,this.textarea]})})),this.username&&this.username.addEventListener("input",(()=>t.validate(this.username))),this.email&&this.email.addEventListener("input",(()=>t.validate(this.email))),this.textarea&&this.textarea.addEventListener("input",(()=>t.validate(this.textarea)))}}).initialize(),(new class{sidebar=document.querySelector(".sidebar");openBtn=document.querySelector(".burger");closeBtn=document.querySelector(".sidebar__close-btn");initialize=()=>{this.openBtn&&this.openBtn.addEventListener("click",this.open),this.closeBtn&&this.closeBtn.addEventListener("click",this.close)};close=()=>{this.sidebar.classList.remove("open-js"),document.body.classList.remove("open-sidebar-js")};open=()=>{this.sidebar.classList.add("open-js"),document.body.classList.add("open-sidebar-js")}}).initialize(),(new class{menuLinks=document.querySelectorAll(".menu__link");initialize=()=>{this.menuLinks.forEach((e=>{console.log(window.location.href,e.href),window.location.href===e.href&&e.classList.add("menu__link--active")}))}}).initialize(),(new class{form=document.querySelector(".form");username=document.querySelector(".form__username");email=document.querySelector(".form__email");button=document.querySelector(".form__btn");message=document.querySelector(".form__message");initialize=()=>{this.form&&this.form.addEventListener("submit",(e=>{t.submit(e,{message:this.message,button:{element:this.button,text:"Получить консультацию"},fields:[this.username,this.email]})})),this.username&&this.username.addEventListener("input",(()=>t.validate(this.username))),this.email&&this.email.addEventListener("input",(()=>t.validate(this.email)))}}).initialize()}))})();